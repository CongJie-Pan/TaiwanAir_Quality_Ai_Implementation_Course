# å°ç£ç©ºæ°£è³ªé‡æ•¸æ“šåˆ†æç³»çµ± - å°ˆæ¡ˆè¦åŠƒæ›¸

**Project:** Air Quality Analysis System with Streamlit
**Based on:** DIKW Principle & Multi-Dimensional Analysis (MDA)
**Course Reference:** AIp04 ç©ºé–“èˆ‡ç¶²ç«™è¨­è¨ˆ
**Created:** 2025-10-13
**Version:** 1.0

---

## ç›®éŒ„

1. [å°ˆæ¡ˆæ¦‚è¿°](#1-å°ˆæ¡ˆæ¦‚è¿°)
2. [æ•¸æ“šç¶­åº¦åˆ†æï¼ˆMDAï¼‰](#2-æ•¸æ“šç¶­åº¦åˆ†æmda)
3. [DIKWåŸå‰‡æ¶æ§‹](#3-dikwåŸå‰‡æ¶æ§‹)
4. [Streamlitç³»çµ±è¨­è¨ˆ](#4-streamlitç³»çµ±è¨­è¨ˆ)
5. [æŠ€è¡“å¯¦ç¾ç´°ç¯€](#5-æŠ€è¡“å¯¦ç¾ç´°ç¯€)
6. [é–‹ç™¼è·¯ç·šåœ–](#6-é–‹ç™¼è·¯ç·šåœ–)

---

## 1. å°ˆæ¡ˆæ¦‚è¿°

### 1.1 æ•¸æ“šä¾†æºèˆ‡è¦æ¨¡

**æ•¸æ“šåŸºæœ¬ä¿¡æ¯ï¼š**
- **ä¾†æºï¼š** å°ç£ç’°ä¿ç½²ç©ºæ°£è³ªé‡ç›£æ¸¬ç¶²
- **æ™‚é–“ç¯„åœï¼š** 2016-11-25 è‡³ 2024-08-31ï¼ˆç´„8å¹´ï¼‰
- **æ•¸æ“šè¦æ¨¡ï¼š** 5,882,208 ç­†è¨˜éŒ„
- **åœ°ç†è¦†è“‹ï¼š** 123å€‹ç›£æ¸¬ç«™ï¼Œéå¸ƒå°ç£22å€‹ç¸£å¸‚
- **æ¸¬é‡é »ç‡ï¼š** æ¯å°æ™‚è¨˜éŒ„

**æ•¸æ“šæ ¼å¼å„ªåŒ–æˆæœï¼š**
```
åŸå§‹æ ¼å¼ï¼šCSV (801 MB)
å„ªåŒ–æ ¼å¼ï¼šParquet (115 MB) - å£“ç¸®ç‡ 85.7%
æ•¸æ“šåº«ï¼šDuckDB (175 MB) - æ”¯æ´SQLæŸ¥è©¢
æ€§èƒ½æå‡ï¼šæŸ¥è©¢é€Ÿåº¦æå‡ 20-50å€
```

### 1.2 æ•¸æ“šæ¬„ä½çµæ§‹ï¼ˆ25å€‹æ¬„ä½ï¼‰

**ç¶­åº¦æ¬„ä½ï¼ˆDimensionsï¼‰ï¼š**
- **æ™‚é–“ç¶­åº¦ï¼ˆTï¼‰ï¼š** `date` (datetime)
- **ç©ºé–“ç¶­åº¦ï¼ˆSï¼‰ï¼š** `sitename`, `county`, `longitude`, `latitude`, `siteid`
- **æ±¡æŸ“ç‰©ç¶­åº¦ï¼ˆPï¼‰ï¼š** `pollutant` (ä¸»è¦æ±¡æŸ“ç‰©é¡å‹)
- **ç‹€æ…‹ç¶­åº¦ï¼ˆCï¼‰ï¼š** `status` (ç©ºæ°£è³ªé‡ç‹€æ…‹)

**é‡å€¼æ¬„ä½ï¼ˆMeasuresï¼‰ï¼š**

| é¡åˆ¥ | æ¬„ä½ | å–®ä½ | èªªæ˜ |
|------|------|------|------|
| **æ‡¸æµ®å¾®ç²’** | pm2.5 | Î¼g/mÂ³ | PM2.5ç´°æ‡¸æµ®å¾®ç²’ |
| | pm10 | Î¼g/mÂ³ | PM10æ‡¸æµ®å¾®ç²’ |
| | pm2.5_avg | Î¼g/mÂ³ | PM2.5ç§»å‹•å¹³å‡ |
| | pm10_avg | Î¼g/mÂ³ | PM10ç§»å‹•å¹³å‡ |
| **æ°£æ…‹æ±¡æŸ“ç‰©** | o3 | ppb | è‡­æ°§ |
| | o3_8hr | ppb | è‡­æ°§8å°æ™‚å¹³å‡ |
| | co | ppm | ä¸€æ°§åŒ–ç¢³ |
| | co_8hr | ppm | CO 8å°æ™‚å¹³å‡ |
| | so2 | ppb | äºŒæ°§åŒ–ç¡« |
| | so2_avg | ppb | SO2å¹³å‡å€¼ |
| | no2 | ppb | äºŒæ°§åŒ–æ°® |
| | nox | ppb | æ°®æ°§åŒ–ç‰© |
| | no | ppb | ä¸€æ°§åŒ–æ°® |
| **ç¶œåˆæŒ‡æ¨™** | aqi | - | ç©ºæ°£è³ªé‡æŒ‡æ•¸ |
| **æ°£è±¡åƒæ•¸** | windspeed | m/s | é¢¨é€Ÿ |
| | winddirec | degree | é¢¨å‘ |

### 1.3 å°ˆæ¡ˆç›®æ¨™

**æ ¸å¿ƒç›®æ¨™ï¼š**
1. âœ… å»ºç«‹é«˜æ•ˆçš„æ•¸æ“šè¼‰å…¥èˆ‡æŸ¥è©¢ç³»çµ±ï¼ˆå·²å®Œæˆï¼‰
2. ğŸ¯ å¯¦ç¾å¤šç¶­åº¦æ•¸æ“šåˆ†æï¼ˆSPCTæ¨¡å‹ï¼‰
3. ğŸ¯ å±•ç¤ºDIKWåŸå‰‡çš„å¯¦éš›æ‡‰ç”¨
4. ğŸ¯ é–‹ç™¼äº’å‹•å¼Streamlitå„€è¡¨æ¿
5. ğŸ¯ æä¾›ç©ºæ°£è³ªé‡æ´å¯Ÿèˆ‡é æ¸¬

**é æœŸç”¢å‡ºï¼š**
- 5é å°ˆæ¡ˆç°¡å ±ï¼ˆPPTï¼‰
- äº’å‹•å¼Streamlitç¶²ç«™ç³»çµ±
- æ•¸æ“šåˆ†æå ±å‘Š
- æŠ€è¡“æ–‡æª”

---

## 2. æ•¸æ“šç¶­åº¦åˆ†æï¼ˆMDAï¼‰

### 2.1 æ•¸æ“šç©ºé–“çš„å››ç¶­æ¨¡å‹ï¼ˆSPCTï¼‰

åƒç…§ **AIp04ç©ºé–“èˆ‡ç¶²ç«™A.py** çš„SPCæ¨¡å‹ï¼Œé‡å°ç©ºæ°£è³ªé‡æ•¸æ“šèª¿æ•´ç‚ºSPCTæ¨¡å‹ï¼š

```
åŸå§‹æ¨¡å‹ï¼ˆé›¶å”®æ¥­ï¼‰:
S (éŠ·å”®) - P (å•†å“) - C (å®¢æˆ¶) - T (æ™‚é–“)

ç©ºæ°£è³ªé‡æ¨¡å‹:
S (ç©ºé–“) - P (æ±¡æŸ“ç‰©) - C (æ¢ä»¶) - T (æ™‚é–“)
```

#### 2.1.1 Sç¶­åº¦ï¼šç©ºé–“/åœ°é»å±¤æ¬¡çµæ§‹

**å±¤æ¬¡çµæ§‹ï¼ˆHierarchyï¼‰ï¼š**
```
åœ°ç†å€åŸŸ â†’ ç¸£å¸‚ â†’ é„‰é®å€ â†’ ç›£æ¸¬ç«™
```

**å…·é«”åˆ†é¡ï¼š**

| å€åŸŸ | ç¸£å¸‚ | ä»£è¡¨ç«™é» |
|------|------|----------|
| **åŒ—éƒ¨å€åŸŸ** | å°åŒ—å¸‚ã€æ–°åŒ—å¸‚ã€åŸºéš†å¸‚ã€æ¡ƒåœ’å¸‚ã€æ–°ç«¹ç¸£å¸‚ | ä¸­å±±ã€æ¿æ©‹ã€æ¡ƒåœ’ã€æ–°ç«¹ |
| **ä¸­éƒ¨å€åŸŸ** | å°ä¸­å¸‚ã€å½°åŒ–ç¸£ã€å—æŠ•ç¸£ã€è‹—æ —ç¸£ã€é›²æ—ç¸£ | è±åŸã€å½°åŒ–ã€å—æŠ• |
| **å—éƒ¨å€åŸŸ** | é«˜é›„å¸‚ã€å°å—å¸‚ã€å±æ±ç¸£ã€å˜‰ç¾©ç¸£å¸‚ | å‰é‡‘ã€å®‰å—ã€å±æ± |
| **æ±éƒ¨å€åŸŸ** | èŠ±è“®ç¸£ã€å°æ±ç¸£ | èŠ±è“®ã€å°æ± |
| **é›¢å³¶å€åŸŸ** | æ¾æ¹–ç¸£ã€é‡‘é–€ç¸£ã€é€£æ±Ÿç¸£ | é¦¬å…¬ã€é‡‘é–€ |

**Sç¶­åº¦çš„è¡ç”Ÿå±¬æ€§ï¼š**
```python
# å€åŸŸåˆ†é¡
df['region'] = df['county'].map({
    'å°åŒ—å¸‚': 'åŒ—éƒ¨', 'æ–°åŒ—å¸‚': 'åŒ—éƒ¨', 'åŸºéš†å¸‚': 'åŒ—éƒ¨',
    'å°ä¸­å¸‚': 'ä¸­éƒ¨', 'å½°åŒ–ç¸£': 'ä¸­éƒ¨', 'å—æŠ•ç¸£': 'ä¸­éƒ¨',
    'é«˜é›„å¸‚': 'å—éƒ¨', 'å°å—å¸‚': 'å—éƒ¨', 'å±æ±ç¸£': 'å—éƒ¨',
    'èŠ±è“®ç¸£': 'æ±éƒ¨', 'å°æ±ç¸£': 'æ±éƒ¨',
    # ... å…¶ä»–ç¸£å¸‚
})

# éƒ½å¸‚é¡å‹
df['urban_type'] = df['county'].map({
    'å°åŒ—å¸‚': 'éƒ½æœƒå€', 'æ–°åŒ—å¸‚': 'éƒ½æœƒå€', 'å°ä¸­å¸‚': 'éƒ½æœƒå€',
    # ... å…¶ä»–åˆ†é¡
})
```

#### 2.1.2 Pç¶­åº¦ï¼šæ±¡æŸ“ç‰©åˆ†é¡å±¤æ¬¡

**å±¤æ¬¡çµæ§‹ï¼š**
```
æ±¡æŸ“é¡åˆ¥ â†’ æ±¡æŸ“ç‰©ç¨®é¡ â†’ æ¸¬é‡æŒ‡æ¨™
```

**æ±¡æŸ“ç‰©åˆ†é¡æ¨¹ï¼š**

```
ç©ºæ°£æ±¡æŸ“ç‰©
â”œâ”€ æ‡¸æµ®å¾®ç²’é¡ (Particulate Matter)
â”‚  â”œâ”€ PM2.5 (ç´°æ‡¸æµ®å¾®ç²’)
â”‚  â”‚  â”œâ”€ pm2.5 (å³æ™‚å€¼)
â”‚  â”‚  â””â”€ pm2.5_avg (ç§»å‹•å¹³å‡)
â”‚  â””â”€ PM10 (æ‡¸æµ®å¾®ç²’)
â”‚     â”œâ”€ pm10 (å³æ™‚å€¼)
â”‚     â””â”€ pm10_avg (ç§»å‹•å¹³å‡)
â”‚
â”œâ”€ æ°£æ…‹æ±¡æŸ“ç‰© (Gaseous Pollutants)
â”‚  â”œâ”€ è‡­æ°§ (O3)
â”‚  â”‚  â”œâ”€ o3 (å³æ™‚å€¼)
â”‚  â”‚  â””â”€ o3_8hr (8å°æ™‚å¹³å‡)
â”‚  â”œâ”€ ä¸€æ°§åŒ–ç¢³ (CO)
â”‚  â”‚  â”œâ”€ co (å³æ™‚å€¼)
â”‚  â”‚  â””â”€ co_8hr (8å°æ™‚å¹³å‡)
â”‚  â”œâ”€ äºŒæ°§åŒ–ç¡« (SO2)
â”‚  â”‚  â”œâ”€ so2 (å³æ™‚å€¼)
â”‚  â”‚  â””â”€ so2_avg (å¹³å‡å€¼)
â”‚  â””â”€ æ°®æ°§åŒ–ç‰© (NOx)
â”‚     â”œâ”€ no2 (äºŒæ°§åŒ–æ°®)
â”‚     â”œâ”€ no (ä¸€æ°§åŒ–æ°®)
â”‚     â””â”€ nox (ç¸½æ°®æ°§åŒ–ç‰©)
â”‚
â””â”€ ç¶œåˆæŒ‡æ¨™
   â””â”€ AQI (ç©ºæ°£è³ªé‡æŒ‡æ•¸)
      â”œâ”€ è‰¯å¥½ (0-50)
      â”œâ”€ æ™®é€š (51-100)
      â”œâ”€ å°æ•æ„Ÿæ—ç¾¤ä¸å¥åº· (101-150)
      â”œâ”€ ä¸å¥åº· (151-200)
      â”œâ”€ éå¸¸ä¸å¥åº· (201-300)
      â””â”€ å±å®³ (301+)
```

**Pç¶­åº¦çš„è¡ç”Ÿæ¨™ç±¤ï¼š**
```python
# æ±¡æŸ“ç‰©åˆ†é¡æ¨™ç±¤
df['pollutant_category'] = df['pollutant'].map({
    'PM2.5': 'æ‡¸æµ®å¾®ç²’',
    'PM10': 'æ‡¸æµ®å¾®ç²’',
    'O3': 'æ°£æ…‹æ±¡æŸ“ç‰©',
    'CO': 'æ°£æ…‹æ±¡æŸ“ç‰©',
    'SO2': 'æ°£æ…‹æ±¡æŸ“ç‰©',
    'NO2': 'æ°£æ…‹æ±¡æŸ“ç‰©'
})

# AQIç­‰ç´šæ¨™ç±¤
def aqi_level(aqi):
    if aqi <= 50: return 'è‰¯å¥½'
    elif aqi <= 100: return 'æ™®é€š'
    elif aqi <= 150: return 'å°æ•æ„Ÿæ—ç¾¤ä¸å¥åº·'
    elif aqi <= 200: return 'ä¸å¥åº·'
    elif aqi <= 300: return 'éå¸¸ä¸å¥åº·'
    else: return 'å±å®³'

df['aqi_level'] = df['aqi'].apply(aqi_level)
```

#### 2.1.3 Cç¶­åº¦ï¼šæ¢ä»¶/æƒ…å¢ƒåˆ†é¡

**å±¤æ¬¡çµæ§‹ï¼š**
```
ç’°å¢ƒæ¢ä»¶ â†’ æ°£è±¡æ¢ä»¶ â†’ ç©ºæ°£å“è³ªç‹€æ…‹
```

**Cç¶­åº¦çš„åˆ†é¡é«”ç³»ï¼š**

1. **å­£ç¯€æ¢ä»¶ï¼š**
   - æ˜¥å­£ (3-5æœˆ)
   - å¤å­£ (6-8æœˆ)
   - ç§‹å­£ (9-11æœˆ)
   - å†¬å­£ (12-2æœˆ)

2. **æ°£è±¡æ¢ä»¶ï¼š**
   ```
   é¢¨é€Ÿæ¢ä»¶
   â”œâ”€ ç„¡é¢¨ (< 1 m/s)
   â”œâ”€ å¾®é¢¨ (1-3 m/s)
   â”œâ”€ è¼•é¢¨ (3-5 m/s)
   â””â”€ å¼·é¢¨ (> 5 m/s)

   é¢¨å‘æ¢ä»¶
   â”œâ”€ åŒ—é¢¨ (315-45Â°)
   â”œâ”€ æ±é¢¨ (45-135Â°)
   â”œâ”€ å—é¢¨ (135-225Â°)
   â””â”€ è¥¿é¢¨ (225-315Â°)
   ```

3. **æ™‚æ®µæ¢ä»¶ï¼š**
   - æ—©æ™¨ (06:00-09:00)
   - ä¸Šåˆ (09:00-12:00)
   - ä¸‹åˆ (12:00-18:00)
   - å‚æ™š (18:00-21:00)
   - å¤œé–“ (21:00-06:00)

**Cç¶­åº¦çš„è¡ç”Ÿæ¨™ç±¤ï¼š**
```python
# å­£ç¯€æ¨™ç±¤
df['season'] = pd.cut(df['month'],
                      bins=[0,3,6,9,12],
                      labels=['å†¬å­£','æ˜¥å­£','å¤å­£','ç§‹å­£'])

# é¢¨é€Ÿç­‰ç´š
df['wind_level'] = pd.cut(df['windspeed'],
                          bins=[0,1,3,5,float('inf')],
                          labels=['ç„¡é¢¨','å¾®é¢¨','è¼•é¢¨','å¼·é¢¨'])

# å·¥ä½œæ—¥/é€±æœ«
df['is_weekend'] = df['date'].dt.dayofweek >= 5

# æ™‚æ®µæ¨™ç±¤
df['time_period'] = pd.cut(df['date'].dt.hour,
                           bins=[0,6,9,12,18,21,24],
                           labels=['å¤œé–“','æ—©æ™¨','ä¸Šåˆ','ä¸‹åˆ','å‚æ™š','å¤œé–“'],
                           include_lowest=True)
```

#### 2.1.4 Tç¶­åº¦ï¼šæ™‚é–“å±¤æ¬¡çµæ§‹

**å±¤æ¬¡çµæ§‹ï¼š**
```
å¹´ (Year) â†’ å­£ (Quarter) â†’ æœˆ (Month) â†’ é€± (Week) â†’ æ—¥ (Day) â†’ æ™‚ (Hour)
```

**æ™‚é–“ç¶­åº¦çš„è©³ç´°åˆ†è§£ï¼š**

| å±¤ç´š | æ¬„ä½åç¨± | ç¯„ä¾‹å€¼ | èªªæ˜ |
|------|----------|--------|------|
| **å¹´** | `year` | 2024 | 2016-2024 |
| **å­£** | `quarter` | Q3 | 1-4å­£ |
| **å¹´å­£** | `yq` | 24Q3 | å¹´+å­£çµ„åˆ |
| **æœˆ** | `month` | 8 | 1-12æœˆ |
| **å¹´æœˆ** | `ym` | 2024-08 | å¹´+æœˆçµ„åˆ |
| **é€±** | `week` | 35 | å¹´åº¦ç¬¬å¹¾é€± (1-53) |
| **æ—¥** | `day` | 31 | æœˆä»½ä¸­çš„ç¬¬å¹¾å¤© |
| **æ˜ŸæœŸ** | `dayofweek` | 6 | é€±ä¸€=0, é€±æ—¥=6 |
| **æ™‚** | `hour` | 23 | 0-23æ™‚ |

**Tç¶­åº¦çš„è¡ç”Ÿæ¨™ç±¤ç”Ÿæˆï¼š**
```python
# åƒç…§ AIp04/A3 æ•¸æ“šæ¨™ç±¤çš„ç”¢ç”Ÿæ–¹å¼
# (1) æ—¥æœŸç›¸é—œæ¨™ç±¤
df['year'] = pd.to_datetime(df['date']).dt.year
df['month'] = pd.to_datetime(df['date']).dt.month
df['day'] = pd.to_datetime(df['date']).dt.day
df['hour'] = pd.to_datetime(df['date']).dt.hour
df['dayofweek'] = pd.to_datetime(df['date']).dt.dayofweek

# (2) é€£çºŒæ•¸å€¼çš„é›¢æ•£åŒ– - å­£åº¦æ¨™ç±¤
df['quarter'] = pd.cut(df['month'],
                       bins=[0,3,6,9,12],
                       labels=['Q1','Q2','Q3','Q4'])

# (3) æ–‡å­—è™•ç†çš„æ¨™ç±¤ - å¹´å­£çµ„åˆ
df['yq'] = df['year'].astype(str).str[-2:] + 'Q' + df['quarter'].astype(str)

# (4) å¹´æœˆæ¨™ç±¤
df['ym'] = df['date'].dt.to_period('M')

# (5) å·¥ä½œæ—¥æ¨™ç±¤
df['is_workday'] = ~df['date'].dt.dayofweek.isin([5,6])
```

### 2.2 é‡å€¼ï¼ˆMeasuresï¼‰èˆ‡çµ±è¨ˆé‡

åƒç…§ **AIp04/A4 é‡å€¼** çš„å®šç¾©ï¼š

#### 2.2.1 ç©ºæ°£è³ªé‡å°ˆç”¨é‡å€¼

**å®šç¾©é¡ä¼¼é›¶å”®æ¥­çš„"æˆäº¤çµæ§‹"ï¼š**

```python
# åƒç…§ AIp04 çš„æˆäº¤çµæ§‹å‡½æ•¸
def ç©ºæ°£è³ªé‡çµæ§‹(df, group_by='county'):
    """
    è¨ˆç®—ç©ºæ°£è³ªé‡çš„çµæ§‹æ€§æŒ‡æ¨™

    é¡æ¯”é›¶å”®æ¥­æˆäº¤çµæ§‹:
    ç‡Ÿæ¥­é¡ â†’ ç¸½AQIç©åˆ†
    ä¾†å®¢æ•¸ â†’ ç›£æ¸¬ç«™æ•¸
    äº¤æ˜“æ•¸ â†’ æ¸¬é‡æ¬¡æ•¸
    å®¢å–®åƒ¹ â†’ å¹³å‡AQI
    """
    result = df.groupby(group_by).agg({
        'sitename': 'nunique',      # ç›£æ¸¬ç«™æ•¸
        'date': 'count',            # æ¸¬é‡æ¬¡æ•¸
        'aqi': ['mean', 'median', 'max', 'min', 'sum'],
        'pm2.5': 'mean',
        'pm10': 'mean',
        'o3': 'mean'
    }).reset_index()

    result.columns = [
        group_by,
        'ç›£æ¸¬ç«™æ•¸', 'æ¸¬é‡æ¬¡æ•¸',
        'å¹³å‡AQI', 'AQIä¸­ä½æ•¸', 'æœ€é«˜AQI', 'æœ€ä½AQI', 'AQIç¸½ç©åˆ†',
        'å¹³å‡PM2.5', 'å¹³å‡PM10', 'å¹³å‡O3'
    ]

    # è¨ˆç®—è¡ç”ŸæŒ‡æ¨™
    result['æ±¡æŸ“å¤©æ•¸ä½”æ¯”'] = (result['æœ€é«˜AQI'] > 100).astype(float)
    result['ç«™å‡æ¸¬é‡æ¬¡æ•¸'] = result['æ¸¬é‡æ¬¡æ•¸'] / result['ç›£æ¸¬ç«™æ•¸']

    return result
```

**ç©ºæ°£è³ªé‡å°ˆç”¨KPIï¼š**

| KPIåç¨± | è¨ˆç®—å…¬å¼ | èªªæ˜ | ç›®æ¨™å€¼ |
|---------|----------|------|--------|
| **é”æ¨™ç‡** | (AQIâ‰¤100çš„å¤©æ•¸/ç¸½å¤©æ•¸)Ã—100% | ç©ºæ°£å“è³ªè‰¯å¥½çš„æ¯”ä¾‹ | >80% |
| **è¶…æ¨™å¤©æ•¸** | count(AQI>100) | ç©ºæ°£å“è³ªä¸ä½³çš„å¤©æ•¸ | <20å¤©/å¹´ |
| **æ±¡æŸ“ç‰©è¶…æ¨™æ¬¡æ•¸** | count(æ±¡æŸ“ç‰©>æ¨™æº–å€¼) | å„æ±¡æŸ“ç‰©è¶…æ¨™æƒ…æ³ | 0æ¬¡ |
| **é€£çºŒæ±¡æŸ“å¤©æ•¸** | max(é€£çºŒAQI>100) | æœ€é•·æ±¡æŸ“æŒçºŒæ™‚é–“ | <5å¤© |
| **æ±¡æŸ“æ”¹å–„ç‡** | (æœ¬æœŸ-ä¸ŠæœŸ)/ä¸ŠæœŸÃ—100% | åŒæ¯”æ±¡æŸ“æ”¹å–„æƒ…æ³ | >0% |
| **ç«™é»é”æ¨™ç‡** | é”æ¨™ç«™é»æ•¸/ç¸½ç«™é»æ•¸ | å€åŸŸæ•´é«”ç©ºæ°£å“è³ª | >90% |

### 2.3 å¤šç¶­åº¦åˆ†æï¼ˆMDAï¼‰çš„æ¨™æº–äºŒç¶­è¡¨æ ¼

åƒç…§ **AIp04/B2 å¤šç¶­åº¦åˆ†æä¸­çš„äºŒç¶­è¡¨æ ¼**ï¼š

#### äº¤å‰è¡¨åˆ†æ (Crosstab)

```python
# (1) é »æ¬¡åˆ†å¸ƒè¡¨ - å„å¹´åº¦å„ç¸£å¸‚çš„æ¸¬é‡æ¬¡æ•¸
TYC = pd.crosstab(df['year'], df['county'], margins=True)

# (2) æ•¸å€¼ç´¯è¨ˆè¡¨ - å„å¹´åº¦å„ç¸£å¸‚çš„å¹³å‡AQI
TYCM = pd.crosstab(
    index=df['year'],
    columns=df['county'],
    values=df['aqi'],
    aggfunc='mean',
    margins=True
)

# (3) æ¯”ä¾‹åˆ†å¸ƒè¡¨ - å„æ±¡æŸ“ç­‰ç´šåœ¨å„ç¸£å¸‚çš„åˆ†å¸ƒæ¯”ä¾‹
TYCMP = round(100 * pd.crosstab(
    index=df['aqi_level'],
    columns=df['county'],
    normalize='columns'
), 1)
```

#### æ•¸æ“šæ¨ç´è½‰æ› (Pivot)

**SPCTè»¸å‘æŠ•å°„ï¼š**

```python
# åƒç…§ AIp04/B3 æ•¸æ“šæ¡†è½‰æ›/æ¨ç´(pivot)è½‰æ›

# (1) æŠ•å°„åˆ° Sè»¸ (ç©ºé–“) + æ™‚é–“(year)
Sv = df.groupby(['year', 'county']).agg({
    'aqi': 'mean',
    'pm2.5': 'mean',
    'sitename': 'nunique'
}).reset_index()
Sv.columns = ['year', 'county', 'avg_aqi', 'avg_pm25', 'station_count']

# (2) æŠ•å°„åˆ° Pè»¸ (æ±¡æŸ“ç‰©) + æ™‚é–“(year)
Pv = df.groupby(['year', 'pollutant']).agg({
    'date': 'count',
    'aqi': 'mean'
}).reset_index()
Pv.columns = ['year', 'pollutant', 'occurrence_count', 'avg_aqi']

# (3) æŠ•å°„åˆ° Cè»¸ (æ¢ä»¶) + æ™‚é–“(month)
Cv = df.groupby(['month', 'season', 'wind_level']).agg({
    'aqi': ['mean', 'max'],
    'pm2.5': 'mean'
}).reset_index()

# (4) æŠ•å°„åˆ° Tè»¸ (æ™‚é–“) - å¹´å­£åˆ†æ
Tv = df.groupby(['yq']).agg({
    'aqi': 'mean',
    'pm2.5': 'mean',
    'sitename': 'nunique'
}).reset_index()
```

---

## 3. DIKWåŸå‰‡æ¶æ§‹

### 3.1 DIKWé‡‘å­—å¡”ç†è«–

```
              â•±â•²
             â•±  â•²  Wisdom (æ™ºæ…§)
            â•±â”€â”€â”€â”€â•²  â†“ é æ¸¬èˆ‡æ±ºç­–æ”¯æŒ
           â•±      â•²
          â•±  Know- â•²  Knowledge (çŸ¥è­˜)
         â•±   ledge  â•²  â†“ æ¨¡å¼è­˜åˆ¥èˆ‡å› æœæ¨ç†
        â•±â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•²
       â•±              â•²
      â•±  Information  â•²  Information (è³‡è¨Š)
     â•±                 â•²  â†“ çµ±è¨ˆåˆ†æèˆ‡å½™ç¸½
    â•±â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•²
   â•±                     â•²
  â•±         Data         â•²  Data (æ•¸æ“š)
 â•±                         â•²  åŸå§‹æ¸¬é‡å€¼
â•±â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•²
```

**å±¤ç´šè½‰åŒ–ç‰¹å¾µï¼š**

| å±¤ç´š | ç‰¹å¾µ | å•é¡Œ | æŠ€è¡“ | Streamlité é¢ |
|------|------|------|------|---------------|
| **Data** | åŸå§‹ã€æœªè™•ç† | "æ˜¯ä»€éº¼ï¼Ÿ" | æ•¸æ“šæ¡é›†ã€å­˜å„² | æ•¸æ“šç¸½è¦½ |
| **Information** | è™•ç†ã€æœ‰æ„ç¾© | "æœ‰å¤šå°‘ï¼Ÿ" | çµ±è¨ˆã€èšåˆã€å¯è¦–åŒ– | çµ±è¨ˆåˆ†æ |
| **Knowledge** | ç†è§£ã€æœ‰è¦å¾‹ | "ç‚ºä»€éº¼ï¼Ÿ" | åˆ†æã€å»ºæ¨¡ã€æ¨ç† | è¦å¾‹ç™¼ç¾ |
| **Wisdom** | æ‡‰ç”¨ã€å¯è¡Œå‹• | "æ€éº¼åšï¼Ÿ" | é æ¸¬ã€æ±ºç­–ã€å»ºè­° | æ™ºæ…§æ±ºç­–ã€é æ¸¬æ¨¡å‹ |

### 3.2 Dataå±¤ï¼šåŸå§‹æ•¸æ“š

**å®šç¾©ï¼š** æœªç¶“è™•ç†çš„åŸå§‹æ¸¬é‡å€¼å’Œè§€å¯Ÿçµæœ

**ç©ºæ°£è³ªé‡æ•¸æ“šç¯„ä¾‹ï¼š**
```
date: 2024-08-31 23:00
sitename: ä¸­å±±
county: å°åŒ—å¸‚
aqi: 62
pm2.5: 17.0
o3: 35.0
windspeed: 2.3
```

**Streamlitå¯¦ç¾ï¼š**
```python
st.header("åŸå§‹æ•¸æ“šæŸ¥çœ‹")
st.dataframe(df.head(100))

# æ•¸æ“šå“è³ªæª¢æŸ¥
st.subheader("æ•¸æ“šå“è³ª")
missing_values = df.isnull().sum()
st.write(f"ç¼ºå¤±å€¼çµ±è¨ˆï¼š")
st.dataframe(missing_values[missing_values > 0])
```

### 3.3 Informationå±¤ï¼šçµ±è¨ˆè³‡è¨Š

**å®šç¾©ï¼š** ç¶“éè™•ç†ã€å½™ç¸½ã€æœ‰æ„ç¾©çš„æ•¸æ“š

**ç©ºæ°£è³ªé‡è³‡è¨Šç¯„ä¾‹ï¼š**

| è³‡è¨Šé¡å‹ | ç¯„ä¾‹ | ç”Ÿæˆæ–¹å¼ |
|---------|------|----------|
| **æ™‚é–“çµ±è¨ˆ** | å°åŒ—å¸‚8æœˆå¹³å‡AQIç‚º52ï¼ˆè‰¯å¥½ï¼‰ | `df.groupby(['county', 'month'])['aqi'].mean()` |
| **ç©ºé–“æ¯”è¼ƒ** | è¥¿éƒ¨åœ°å€PM2.5æ¯”æ±éƒ¨é«˜30% | å€åŸŸåˆ†çµ„çµ±è¨ˆ |
| **è¶¨å‹¢åˆ†æ** | PM2.5æ¿ƒåº¦æ¯”å»å¹´åŒæœŸä¸‹é™15% | å¹´åº¦å°æ¯”è¨ˆç®— |
| **é”æ¨™çµ±è¨ˆ** | æœ¬æœˆç©ºæ°£å“è³ªé”æ¨™å¤©æ•¸ç‚º25å¤© | `(df['aqi'] <= 100).sum()` |

**Streamlitå¯¦ç¾ï¼š**
```python
st.header("çµ±è¨ˆè³‡è¨Šæ‘˜è¦")

# KPIæŒ‡æ¨™å¡ç‰‡
col1, col2, col3, col4 = st.columns(4)
col1.metric("å¹³å‡AQI", f"{df['aqi'].mean():.1f}", delta=f"{aqi_change:.1f}%")
col2.metric("ç›£æ¸¬ç«™æ•¸", df['sitename'].nunique())
col3.metric("é”æ¨™å¤©æ•¸", (df['aqi'] <= 100).sum())
col4.metric("ä¸»è¦æ±¡æŸ“ç‰©", df['pollutant'].mode()[0])

# çµ±è¨ˆåœ–è¡¨
st.subheader("æœˆåº¦è¶¨å‹¢")
monthly_avg = df.groupby('ym')['aqi'].mean()
st.line_chart(monthly_avg)
```

### 3.4 Knowledgeå±¤ï¼šçŸ¥è­˜èˆ‡è¦å¾‹

**å®šç¾©ï¼š** å¾è³‡è¨Šä¸­æç…‰å‡ºçš„æ¨¡å¼ã€è¦å¾‹ã€å› æœé—œä¿‚

**çŸ¥è­˜ç¯„ä¾‹ï¼š**

**ç¯„ä¾‹1ï¼šå­£ç¯€æ€§è¦å¾‹**
```
Information:
- å†¬å­£å¹³å‡PM2.5: 28.5 Î¼g/mÂ³
- å¤å­£å¹³å‡PM2.5: 15.2 Î¼g/mÂ³

Knowledge:
â†’ å†¬å­£PM2.5æ¿ƒåº¦é¡¯è‘—é«˜æ–¼å¤å­£ï¼ˆæé«˜87%ï¼‰
â†’ åŸå› ï¼šå†¬å­£å¤§æ°£ç©©å®šã€é€†æº«å±¤å½¢æˆã€å¢ƒå¤–æ±¡æŸ“å‚³è¼¸
â†’ è¦å¾‹ï¼šæ¯å¹´11æœˆ-æ¬¡å¹´2æœˆç‚ºæ±¡æŸ“é«˜å³°æœŸ
```

**ç¯„ä¾‹2ï¼šé¢¨é€Ÿèˆ‡æ±¡æŸ“é—œè¯**
```
Information:
- é¢¨é€Ÿ<2m/sæ™‚ï¼Œå¹³å‡PM2.5: 32.1 Î¼g/mÂ³
- é¢¨é€Ÿ>5m/sæ™‚ï¼Œå¹³å‡PM2.5: 12.3 Î¼g/mÂ³

Knowledge:
â†’ é¢¨é€Ÿèˆ‡PM2.5æ¿ƒåº¦å‘ˆè² ç›¸é—œï¼ˆr=-0.65ï¼‰
â†’ ç•¶é¢¨é€Ÿä½æ–¼2m/sæ™‚ï¼Œæ±¡æŸ“ç‰©ä¸æ˜“æ“´æ•£
â†’ å¼·é¢¨(>5m/s)å¯ä½¿PM2.5æ¿ƒåº¦é™ä½62%
```

**Streamlitå¯¦ç¾ï¼š**
```python
st.header("æ±¡æŸ“è¦å¾‹èˆ‡æ´å¯Ÿ")

# å­£ç¯€æ€§åˆ†æ
st.subheader("ç™¼ç¾1ï¼šå­£ç¯€æ€§æ±¡æŸ“æ¨¡å¼")
seasonal_pattern = df.groupby('season')['pm2.5'].mean()
fig = px.bar(seasonal_pattern, title="å„å­£ç¯€PM2.5å¹³å‡æ¿ƒåº¦")
st.plotly_chart(fig)

st.info("""
**æ´å¯Ÿï¼š** å†¬å­£PM2.5æ¿ƒåº¦æ¯”å¤å­£é«˜87%
- åŸå› ï¼šå¤§æ°£ç©©å®šã€é€†æº«å±¤ã€å¢ƒå¤–å‚³è¼¸
- å»ºè­°ï¼šå†¬å­£éœ€åŠ å¼·æ±¡æŸ“ç®¡åˆ¶æªæ–½
""")
```

### 3.5 Wisdomå±¤ï¼šæ™ºæ…§èˆ‡æ±ºç­–

**å®šç¾©ï¼š** åŸºæ–¼çŸ¥è­˜çš„é æ¸¬ã€å»ºè­°ã€æ±ºç­–æ”¯æŒ

**æ±ºç­–æ”¯æŒç¯„ä¾‹ï¼š**

```
Knowledge:
- å†¬å­£PM2.5æ¿ƒåº¦é«˜
- é¢¨é€Ÿä½æ™‚æ±¡æŸ“é›£æ“´æ•£
- æ—©æ™¨7-9æ™‚ç‚ºé«˜å³°

Wisdom (è¡Œå‹•å»ºè­°):
â†’ é æ¸¬ï¼šæ˜æ—¥é¢¨é€Ÿ<2m/sï¼Œé æ¸¬AQIå°‡é”120ï¼ˆä¸å¥åº·ï¼‰
â†’ å»ºè­°ï¼š
  âœ“ æ•æ„Ÿæ—ç¾¤æ‡‰é¿å…æˆ¶å¤–æ´»å‹•
  âœ“ å­¸æ ¡è€ƒæ…®å®¤å…§é«”è‚²èª²
  âœ“ å»ºè­°å…¬çœ¾æ­ä¹˜å¤§çœ¾é‹è¼¸
  âœ“ å·¥å» è€ƒæ…®èª¿æ•´ç”Ÿç”¢æ™‚æ®µ

â†’ æ”¿ç­–ï¼š
  âœ“ å•Ÿå‹•ç©ºæ±¡æ‡‰è®Šæªæ–½
  âœ“ åŠ å¼·éœ²å¤©ç‡ƒç‡’ç¨½æŸ¥
  âœ“ å·¥æ¥­å€æ’æ”¾æ¸›é‡10%
```

**æ™ºæ…§æ±ºç­–æ¡†æ¶ï¼š**

| æƒ…å¢ƒ | æ¢ä»¶åˆ¤æ–· | é æ¸¬çµæœ | è¡Œå‹•å»ºè­° | ç›®æ¨™æ—ç¾¤ |
|------|---------|---------|---------|---------|
| **å¥åº·è­¦ç¤º** | AQI>100 | æ•æ„Ÿæ—ç¾¤å¥åº·é¢¨éšªå¢åŠ  | æ¸›å°‘æˆ¶å¤–æ´»å‹•ã€é…æˆ´å£ç½© | ä¸€èˆ¬æ°‘çœ¾ |
| **æ‡‰è®Šæªæ–½** | AQI>150 | æ±¡æŸ“æŒçºŒæƒ¡åŒ– | å•Ÿå‹•æ‡‰è®Šæ©Ÿåˆ¶ã€äº¤é€šç®¡åˆ¶ | æ”¿åºœå–®ä½ |
| **é é˜²æ€§æªæ–½** | é æ¸¬æ˜æ—¥AQI>100 | å¯èƒ½è¶…æ¨™ | æå‰é€šçŸ¥ã€é˜²è­·æº–å‚™ | å­¸æ ¡ã€ä¼æ¥­ |
| **æ±¡æŸ“ç®¡åˆ¶** | é€£çºŒ3å¤©AQI>100 | éœ€åŠ å¼·ç®¡åˆ¶ | åŠ å¼·ç¨½æŸ¥ã€æ’æ”¾æ¸›é‡ | ç’°ä¿éƒ¨é–€ |

**Streamlitå¯¦ç¾ï¼š**
```python
st.header("æ™ºæ…§æ±ºç­–èˆ‡å»ºè­°")

# ç•¶å‰ç‹€æ…‹è©•ä¼°
current_aqi = df['aqi'].iloc[-1]
aqi_level = get_aqi_level(current_aqi)

# è­¦ç¤ºæ¡†
st.markdown(f"""
<div style='background-color: {alert_color[aqi_level]}; padding: 20px;'>
<h2>ç•¶å‰ç©ºæ°£å“è³ªï¼š{aqi_level}</h2>
<h1>AQI: {current_aqi:.0f}</h1>
</div>
""", unsafe_allow_html=True)

# é æ¸¬æ¨¡å‹
st.subheader("æœªä¾†3å¤©é æ¸¬")
forecast = predict_aqi(df, days=3)
st.line_chart(forecast)

# å€‹äººåŒ–å»ºè­°
user_type = st.selectbox("æ‚¨çš„èº«ä»½",
    ["ä¸€èˆ¬æ°‘çœ¾", "æ•æ„Ÿæ—ç¾¤", "æˆ¶å¤–å·¥ä½œè€…", "é‹å‹•æ„›å¥½è€…"])
advice = generate_advice(current_aqi, user_type)
st.info(advice)
```

---

## 4. Streamlitç³»çµ±è¨­è¨ˆ

### 4.1 ç³»çµ±æ¶æ§‹ç¸½è¦½

**ä¸‰å±¤å¼æ¶æ§‹ï¼š**
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚           å‰å° (Frontend)                    â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚ Navbar   â”‚   Sidebar    â”‚    Canvas    â”‚ â”‚
â”‚  â”‚ (å°èˆªåˆ—)  â”‚   (æ§åˆ¶ç›¤)    â”‚   (ä¸»ç•«å¸ƒ)    â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                    â†“â†‘ äº’å‹•
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚          ä¸­é–“å±¤ (Business Logic)             â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚  KDDæµç¨‹ (Data â†’ Info â†’ Knowledge)   â”‚  â”‚
â”‚  â”‚  - æ•¸æ“šè™•ç†                          â”‚  â”‚
â”‚  â”‚  - çµ±è¨ˆåˆ†æ                          â”‚  â”‚
â”‚  â”‚  - æ¨¡å‹è¨ˆç®—                          â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                    â†“â†‘ æ•¸æ“šå­˜å–
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚           å¾Œå° (Backend/Data)                â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚ Parquet  â”‚   DuckDB     â”‚  Data Loader â”‚ â”‚
â”‚  â”‚ (115MB)  â”‚   (175MB)    â”‚  (å·¥å…·é¡)    â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 4.2 å‰å°è¨­è¨ˆè©³ç´°è¦åŠƒ

#### 4.2.1 Navbar (å°èˆªåˆ—) è¨­è¨ˆ

**åƒç…§ AIp04ç©ºé–“èˆ‡ç¶²ç«™X.py çš„å°èˆªè¨­è¨ˆ**

```python
from streamlit_navigation_bar import st_navbar

# å°èˆªåˆ—å®šç¾© - å°æ‡‰DIKWå±¤ç´š
pages = [
    "[æ•¸æ“šç¸½è¦½]",       # Dataå±¤
    "[çµ±è¨ˆåˆ†æ]",       # Informationå±¤
    "[è¦å¾‹ç™¼ç¾]",       # Knowledgeå±¤
    "[æ™ºæ…§æ±ºç­–]",       # Wisdomå±¤
    "[é æ¸¬æ¨¡å‹]"        # Wisdomå±¤é€²éš
]

page = st_navbar(pages)
```

**é é¢å°æ‡‰é—œä¿‚ï¼š**

| å°èˆªé … | DIKWå±¤ç´š | ä¸»è¦åŠŸèƒ½ | é—œéµæŒ‡æ¨™ |
|--------|---------|---------|---------|
| æ•¸æ“šç¸½è¦½ | Data | åŸå§‹æ•¸æ“šæŸ¥çœ‹ã€å“è³ªæª¢æŸ¥ | æ•¸æ“šå®Œæ•´æ€§ã€æ›´æ–°æ™‚é–“ |
| çµ±è¨ˆåˆ†æ | Information | çµ±è¨ˆåœ–è¡¨ã€è¶¨å‹¢åˆ†æ | AQIå¹³å‡å€¼ã€é”æ¨™ç‡ |
| è¦å¾‹ç™¼ç¾ | Knowledge | æ¨¡å¼è­˜åˆ¥ã€é—œè¯åˆ†æ | å­£ç¯€è¦å¾‹ã€å½±éŸ¿å› ç´  |
| æ™ºæ…§æ±ºç­– | Wisdom | é æ¸¬å»ºè­°ã€æ±ºç­–æ”¯æŒ | å¥åº·å»ºè­°ã€æ”¿ç­–å»ºè­° |
| é æ¸¬æ¨¡å‹ | Wisdom | æ™‚é–“åºåˆ—é æ¸¬ã€æƒ…å¢ƒæ¨¡æ“¬ | é æ¸¬æº–ç¢ºåº¦ã€ç½®ä¿¡å€é–“ |

#### 4.2.2 Sidebar (æ§åˆ¶ç›¤) è¨­è¨ˆ

**ä½ˆå±€çµæ§‹ï¼š**
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  â•â•â• æ§åˆ¶ç›¤ â•â•â•        â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ ã€æ•¸æ“šç¯©é¸ã€‘           â”‚
â”‚  â”œâ”€ æ™‚é–“ç¯„åœé¸æ“‡       â”‚
â”‚  â”œâ”€ ç¸£å¸‚é¸æ“‡          â”‚
â”‚  â”œâ”€ ç«™é»é¸æ“‡          â”‚
â”‚  â””â”€ æ±¡æŸ“ç‰©é¸æ“‡        â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ ã€åˆ†æåƒæ•¸ã€‘           â”‚
â”‚  â”œâ”€ çµ±è¨ˆæ–¹æ³•          â”‚
â”‚  â”œâ”€ èšåˆå±¤ç´š          â”‚
â”‚  â””â”€ å¯è¦–åŒ–é¡å‹        â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ ã€ç•¶å‰ç‹€æ…‹ã€‘           â”‚
â”‚  â”œâ”€ æ•¸æ“šç­†æ•¸          â”‚
â”‚  â”œâ”€ é¸æ“‡æ‘˜è¦          â”‚
â”‚  â””â”€ è¨ˆç®—ç‹€æ…‹          â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ ã€æ“ä½œLOGã€‘            â”‚
â”‚  â””â”€ æ“ä½œæ­·å²è¨˜éŒ„      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**è©³ç´°æ§åˆ¶é …å®šç¾©ï¼š**

```python
# åƒç…§ AIp04/C2 è¼¸å…¥æ©Ÿåˆ¶

st.sidebar.title("ç©ºæ°£è³ªé‡åˆ†ææ§åˆ¶ç›¤")

# ===== æ•¸æ“šç¯©é¸å€ =====
st.sidebar.header("ã€æ•¸æ“šç¯©é¸ã€‘")

# æ™‚é–“ç¯„åœé¸æ“‡
date_range = st.sidebar.date_input(
    "é¸æ“‡æ™‚é–“ç¯„åœ",
    value=(datetime(2024, 1, 1), datetime(2024, 8, 31)),
    min_value=datetime(2016, 11, 25),
    max_value=datetime(2024, 8, 31)
)

# ç¸£å¸‚å¤šé¸
counties = st.sidebar.multiselect(
    "é¸æ“‡ç¸£å¸‚",
    options=sorted(df['county'].unique()),
    default=['å°åŒ—å¸‚', 'æ–°åŒ—å¸‚']
)

# ç«™é»å¤šé¸
stations = st.sidebar.multiselect(
    "é¸æ“‡ç›£æ¸¬ç«™",
    options=sorted(df[df['county'].isin(counties)]['sitename'].unique()),
    default=[]
)

# æ±¡æŸ“ç‰©é¸æ“‡
pollutants = st.sidebar.multiselect(
    "é¸æ“‡æ±¡æŸ“ç‰©",
    options=['PM2.5', 'PM10', 'O3', 'CO', 'SO2', 'NO2'],
    default=['PM2.5', 'PM10']
)

# ===== åˆ†æåƒæ•¸å€ =====
st.sidebar.header("ã€åˆ†æåƒæ•¸ã€‘")

# çµ±è¨ˆæ–¹æ³•
stat_method = st.sidebar.selectbox(
    "çµ±è¨ˆæ–¹æ³•",
    ["å¹³å‡å€¼", "ä¸­ä½æ•¸", "æœ€å¤§å€¼", "æœ€å°å€¼", "ç¸½å’Œ"]
)

# æ™‚é–“èšåˆå±¤ç´š
time_agg = st.sidebar.radio(
    "æ™‚é–“èšåˆ",
    ["å°æ™‚", "æ—¥", "é€±", "æœˆ", "å­£", "å¹´"]
)

# AQIé–¾å€¼è¨­å®š
aqi_threshold = st.sidebar.slider(
    "AQIè­¦ç¤ºé–¾å€¼",
    min_value=0,
    max_value=200,
    value=100,
    step=10
)

# ===== ç•¶å‰ç‹€æ…‹å€ =====
st.sidebar.markdown("---")
st.sidebar.header("ã€ç•¶å‰ç‹€æ…‹ã€‘")
st.sidebar.write(f"ğŸ“Š æ•¸æ“šç­†æ•¸: {len(filtered_df):,}")
st.sidebar.write(f"ğŸ“ é¸æ“‡ç«™é»: {len(stations) if stations else 'å…¨éƒ¨'}")
st.sidebar.write(f"ğŸ“… æ™‚é–“ç¯„åœ: {date_range[0]} ~ {date_range[1]}")

# ===== æ“ä½œæ—¥èªŒ =====
st.sidebar.markdown("---")
st.sidebar.header("ã€æ“ä½œLOGã€‘")
for i, log_entry in enumerate(st.session_state.log[-5:], 1):
    st.sidebar.text(f"{i}. {log_entry}")
```

#### 4.2.3 Canvas (ä¸»ç•«å¸ƒ) è¨­è¨ˆ

**é é¢ä½ˆå±€æ¨¡å¼ï¼š**

åƒç…§ **AIp04/C4 Streamlitçš„ç¶²é ä½ˆå±€æ³•**

**æ¨¡å¼1ï¼šKPIæŒ‡æ¨™å¡ç‰‡ (Columns)**
```python
col1, col2, col3, col4 = st.columns(4)

with col1:
    st.metric(label="å¹³å‡AQI", value=f"{avg_aqi:.1f}", delta=f"{aqi_delta:.1f}%")
with col2:
    st.metric(label="ç›£æ¸¬ç«™æ•¸", value=station_count)
with col3:
    st.metric(label="é”æ¨™å¤©æ•¸", value=good_days, delta=f"{good_days_delta}å¤©")
with col4:
    st.metric(label="ä¸»è¦æ±¡æŸ“ç‰©", value=main_pollutant)
```

**æ¨¡å¼2ï¼šTabsåˆ‡æ› (ç”¨æ–¼åŒç´šå…§å®¹)**
```python
tab1, tab2, tab3 = st.tabs(["æ™‚é–“è¶¨å‹¢", "ç©ºé–“åˆ†å¸ƒ", "æ±¡æŸ“ç‰©åˆ†æ"])

with tab1:
    st.subheader("AQIæ™‚é–“åºåˆ—è¶¨å‹¢")
    st.line_chart(time_series_data)

with tab2:
    st.subheader("å„ç¸£å¸‚æ±¡æŸ“åœ°åœ–")
    st.map(location_data)

with tab3:
    st.subheader("æ±¡æŸ“ç‰©é—œè¯çŸ©é™£")
    st.plotly_chart(correlation_heatmap)
```

**æ¨¡å¼3ï¼šExpanderå±•é–‹å¼ (è©³ç´°è³‡è¨Š)**
```python
with st.expander("è©³ç´°æ•¸æ“šè¡¨æ ¼"):
    st.dataframe(detailed_data)

with st.expander("çµ±è¨ˆæ‘˜è¦"):
    st.write(statistical_summary)
```

### 4.3 é é¢åŠŸèƒ½è¨­è¨ˆæ¦‚è¦

#### é é¢1ï¼šæ•¸æ“šç¸½è¦½ï¼ˆDataå±¤ï¼‰
- åŸå§‹æ•¸æ“šè¡¨æ ¼å±•ç¤º
- æ•¸æ“šå“è³ªæª¢æŸ¥ï¼ˆç¼ºå¤±å€¼ã€ç•°å¸¸å€¼ï¼‰
- æ•¸æ“šåŸºæœ¬çµ±è¨ˆæ‘˜è¦
- æ•¸æ“šä¸‹è¼‰åŠŸèƒ½

#### é é¢2ï¼šçµ±è¨ˆåˆ†æï¼ˆInformationå±¤ï¼‰
- KPIæŒ‡æ¨™å¡ç‰‡ï¼ˆå¹³å‡AQIã€é”æ¨™ç‡ç­‰ï¼‰
- æ™‚é–“åºåˆ—è¶¨å‹¢åœ–
- Crosstabäº¤å‰è¡¨åˆ†æ
- åˆ†å¸ƒç›´æ–¹åœ–

#### é é¢3ï¼šè¦å¾‹ç™¼ç¾ï¼ˆKnowledgeå±¤ï¼‰
- å­£ç¯€æ€§æ¨¡å¼åˆ†æ
- åœ°ç†åˆ†å¸ƒè¦å¾‹
- æ°£è±¡å½±éŸ¿åˆ†æï¼ˆé¢¨é€Ÿã€é¢¨å‘ï¼‰
- æ±¡æŸ“ç‰©ç›¸é—œæ€§åˆ†æ

#### é é¢4ï¼šæ™ºæ…§æ±ºç­–ï¼ˆWisdomå±¤ï¼‰
- ç•¶å‰ç©ºæ°£å“è³ªè­¦ç¤º
- æœªä¾†3å¤©AQIé æ¸¬
- å€‹äººåŒ–å¥åº·å»ºè­°
- æ”¿ç­–æ‡‰è®Šå»ºè­°

#### é é¢5ï¼šé æ¸¬æ¨¡å‹ï¼ˆWisdomå±¤é€²éšï¼‰
- å¤šç¨®é æ¸¬æ¨¡å‹é¸æ“‡
- é æ¸¬çµæœå¯è¦–åŒ–
- æ¨¡å‹æ€§èƒ½è©•ä¼°
- æƒ…å¢ƒæ¨¡æ“¬ï¼ˆèª¿æ•´å½±éŸ¿å› ç´ ï¼‰

### 4.4 Session Stateç®¡ç†

**åƒç…§ AIp04ç©ºé–“èˆ‡ç¶²ç«™X.py çš„ session_state ç®¡ç†**

```python
def init_session_state():
    """åˆå§‹åŒ–æ‰€æœ‰sessionè®Šé‡"""
    sss = st.session_state

    # æ•¸æ“šç›¸é—œ
    if 'df' not in sss:
        sss.df = None

    # ä½¿ç”¨è€…é¸æ“‡
    if 'selected_counties' not in sss:
        sss.selected_counties = []
    if 'selected_stations' not in sss:
        sss.selected_stations = []
    if 'date_range' not in sss:
        sss.date_range = None

    # åˆ†æçµæœ
    if 'analysis_result' not in sss:
        sss.analysis_result = None

    # æ“ä½œæ—¥èªŒ
    if 'log' not in sss:
        sss.log = ["ç³»çµ±åˆå§‹åŒ–"]

    # ä½¿ç”¨è€…è³‡è¨Š
    if 'username' not in sss:
        sss.username = ""

    return sss

# æ—¥èªŒè¨˜éŒ„å‡½æ•¸
def add_log(message):
    """æ·»åŠ æ“ä½œæ—¥èªŒ"""
    timestamp = datetime.now().strftime("%H:%M:%S")
    st.session_state.log.append(f"[{timestamp}] {message}")
```

---

## 5. æŠ€è¡“å¯¦ç¾ç´°ç¯€

### 5.1 æ•¸æ“šè¼‰å…¥æ¨¡çµ„

**ä½¿ç”¨å·²å»ºç«‹çš„ data_loader.pyï¼š**

```python
from src.main.python.utils.data_loader import (
    AirQualityDataLoader,
    load_air_quality_data,
    query_air_quality
)

# æ–¹å¼1: ä½¿ç”¨ä¾¿æ·å‡½æ•¸
@st.cache_data
def load_data(start_date, end_date, counties=None):
    """è¼‰å…¥æ•¸æ“šä¸¦å¿«å–"""
    df = load_air_quality_data(
        start_date=start_date,
        end_date=end_date,
        county=counties[0] if counties else None
    )
    return df

# æ–¹å¼2: ä½¿ç”¨SQLæŸ¥è©¢ï¼ˆæ›´é«˜æ•ˆï¼‰
@st.cache_data
def query_data_by_sql(start_date, end_date, counties):
    """ä½¿ç”¨SQLæŸ¥è©¢æ•¸æ“š"""
    counties_str = "', '".join(counties)
    sql = f"""
        SELECT *
        FROM air_quality
        WHERE date BETWEEN '{start_date}' AND '{end_date}'
          AND county IN ('{counties_str}')
    """
    df = query_air_quality(sql)
    return df

# æ–¹å¼3: ä½¿ç”¨DataLoaderé¡ï¼ˆæœ€éˆæ´»ï¼‰
@st.cache_resource
def get_data_loader():
    """ç²å–å–®ä¾‹DataLoader"""
    return AirQualityDataLoader()
```

### 5.2 æ•¸æ“šè™•ç†èˆ‡è½‰æ›

**åƒç…§ AIp04 çš„ KDD3 æ•¸æ“šè½‰æ›ï¼š**

```python
def prepare_data(df):
    """æ•¸æ“šæº–å‚™å’Œæ¨™ç±¤ç”Ÿæˆ"""
    # (1) æ—¥æœŸç›¸é—œæ¨™ç±¤
    df['year'] = pd.to_datetime(df['date']).dt.year
    df['month'] = pd.to_datetime(df['date']).dt.month
    df['hour'] = pd.to_datetime(df['date']).dt.hour
    df['dayofweek'] = pd.to_datetime(df['date']).dt.dayofweek

    # (2) é€£çºŒæ•¸å€¼çš„é›¢æ•£åŒ–
    df['quarter'] = pd.cut(df['month'], bins=[0,3,6,9,12],
                           labels=['Q1','Q2','Q3','Q4'])
    df['season'] = pd.cut(df['month'], bins=[0,3,6,9,12],
                          labels=['å†¬å­£','æ˜¥å­£','å¤å­£','ç§‹å­£'])
    df['aqi_level'] = pd.cut(df['aqi'], bins=[0,50,100,150,200,300,500],
                             labels=['è‰¯å¥½','æ™®é€š','å°æ•æ„Ÿæ—ç¾¤ä¸å¥åº·',
                                    'ä¸å¥åº·','éå¸¸ä¸å¥åº·','å±å®³'])
    df['wind_level'] = pd.cut(df['windspeed'], bins=[0,1,3,5,float('inf')],
                              labels=['ç„¡é¢¨','å¾®é¢¨','è¼•é¢¨','å¼·é¢¨'])

    # (3) æ–‡å­—è™•ç†çš„æ¨™ç±¤
    df['yq'] = df['year'].astype(str).str[-2:] + 'Q' + df['quarter'].astype(str)
    df['ym'] = df['date'].dt.to_period('M').astype(str)

    # (4) å¸ƒæ—æ¨™ç±¤
    df['is_weekend'] = df['dayofweek'] >= 5
    df['is_exceed'] = df['aqi'] > 100

    return df
```

### 5.3 å¯è¦–åŒ–å‡½æ•¸åº«

```python
import plotly.express as px
import plotly.graph_objects as go

def create_time_series_plot(df, y_column='aqi', title=None):
    """å‰µå»ºæ™‚é–“åºåˆ—åœ–"""
    fig = go.Figure()
    fig.add_trace(go.Scatter(x=df['date'], y=df[y_column],
                            mode='lines', name=y_column.upper()))

    if y_column == 'aqi':
        fig.add_hline(y=100, line_dash="dash", annotation_text="æ™®é€šä¸Šé™(100)")
        fig.add_hline(y=150, line_dash="dash", annotation_text="ä¸å¥åº·(150)")

    fig.update_layout(title=title or f"{y_column.upper()} æ™‚é–“åºåˆ—",
                     xaxis_title="æ—¥æœŸ", yaxis_title=y_column.upper())
    return fig

def create_heatmap(df, x_col, y_col, value_col, agg_func='mean'):
    """å‰µå»ºç†±åŠ›åœ–"""
    pivot_data = df.pivot_table(index=y_col, columns=x_col,
                                values=value_col, aggfunc=agg_func)

    fig = go.Figure(data=go.Heatmap(z=pivot_data.values,
                                     x=pivot_data.columns,
                                     y=pivot_data.index,
                                     colorscale='RdYlGn_r'))
    return fig

def create_map_plot(df):
    """å‰µå»ºåœ°ç†åˆ†å¸ƒåœ°åœ–"""
    station_data = df.groupby(['sitename', 'latitude', 'longitude']).agg({
        'aqi': 'mean', 'pm2.5': 'mean'
    }).reset_index()

    fig = px.scatter_mapbox(station_data, lat='latitude', lon='longitude',
                           size='pm2.5', color='aqi',
                           hover_name='sitename',
                           color_continuous_scale='RdYlGn_r',
                           zoom=7, center={"lat": 23.5, "lon": 121})
    fig.update_layout(mapbox_style="open-street-map")
    return fig
```

### 5.4 é æ¸¬æ¨¡å‹å¯¦ç¾

```python
def predict_aqi_simple_ma(df, days=3, window=7):
    """ç°¡å–®ç§»å‹•å¹³å‡é æ¸¬"""
    df_sorted = df.sort_values('date')
    ma = df_sorted['aqi'].rolling(window=window).mean()

    last_date = df_sorted['date'].max()
    future_dates = pd.date_range(start=last_date + pd.Timedelta(days=1),
                                 periods=days, freq='D')

    forecast_value = ma.iloc[-1]
    forecast_df = pd.DataFrame({
        'date': future_dates,
        'forecast': [forecast_value] * days,
        'confidence_lower': [forecast_value * 0.9] * days,
        'confidence_upper': [forecast_value * 1.1] * days
    })
    return forecast_df

def generate_personalized_advice(aqi, user_group):
    """ç”Ÿæˆå€‹äººåŒ–å¥åº·å»ºè­°"""
    advice_matrix = {
        'ä¸€èˆ¬æ°‘çœ¾': {
            (0, 50): "ç©ºæ°£å“è³ªè‰¯å¥½ï¼Œé©åˆå„ç¨®æˆ¶å¤–æ´»å‹•ã€‚",
            (51, 100): "ç©ºæ°£å“è³ªæ™®é€šï¼Œå¯æ­£å¸¸æˆ¶å¤–æ´»å‹•ã€‚",
            (101, 150): "å»ºè­°æ¸›å°‘é•·æ™‚é–“åŠ‡çƒˆé‹å‹•ã€‚",
            (151, 200): "æ‡‰æ¸›å°‘æˆ¶å¤–æ´»å‹•ï¼Œå¤–å‡ºæ™‚é…æˆ´å£ç½©ã€‚",
            (201, 500): "é¿å…æˆ¶å¤–æ´»å‹•ï¼Œé—œé–‰é–€çª—ã€‚"
        },
        'æ•æ„Ÿæ—ç¾¤': {
            (0, 50): "ç©ºæ°£å“è³ªè‰¯å¥½ï¼Œå¯æ­£å¸¸æ´»å‹•ã€‚",
            (51, 100): "ç©ºæ°£å“è³ªæ™®é€šï¼Œæ³¨æ„èº«é«”ç‹€æ³ã€‚",
            (101, 150): "æ‡‰æ¸›å°‘æˆ¶å¤–æ´»å‹•ï¼Œå¿…è¦æ™‚é…æˆ´å£ç½©ã€‚",
            (151, 500): "é¿å…æˆ¶å¤–æ´»å‹•ï¼Œç•™åœ¨å®¤å…§ã€‚"
        }
    }

    for (min_aqi, max_aqi), advice in advice_matrix[user_group].items():
        if min_aqi <= aqi <= max_aqi:
            return advice
    return "æ•¸æ“šç•°å¸¸ï¼Œè«‹æŸ¥çœ‹æœ€æ–°å®˜æ–¹å…¬å‘Šã€‚"
```

---

## 6. é–‹ç™¼è·¯ç·šåœ–

### 6.1 é–‹ç™¼éšæ®µè¦åŠƒ

**Phase 1: åŸºç¤æ¶æ§‹ï¼ˆå·²å®Œæˆï¼‰âœ…**
- âœ… CSV to Parquet è½‰æ›
- âœ… DuckDB æ•¸æ“šåº«å»ºç«‹
- âœ… Data Loader å·¥å…·é¡
- âœ… æ•¸æ“šé©—è­‰

**Phase 2: StreamlitåŸºç¤æ¡†æ¶ï¼ˆWeek 1ï¼‰**
- ğŸ¯ å»ºç«‹ä¸»ç¨‹å¼çµæ§‹
- ğŸ¯ å¯¦ç¾å°èˆªç³»çµ±
- ğŸ¯ å®ŒæˆSidebaræ§åˆ¶ç›¤
- ğŸ¯ å¯¦ç¾Session Stateç®¡ç†

**Phase 3: Data & Information å±¤ï¼ˆWeek 2ï¼‰**
- ğŸ¯ é é¢1ï¼šæ•¸æ“šç¸½è¦½
- ğŸ¯ é é¢2ï¼šçµ±è¨ˆåˆ†æ
- ğŸ¯ åŸºæœ¬å¯è¦–åŒ–åŠŸèƒ½
- ğŸ¯ äº¤å‰è¡¨åˆ†æ

**Phase 4: Knowledge & Wisdom å±¤ï¼ˆWeek 3ï¼‰**
- ğŸ¯ é é¢3ï¼šè¦å¾‹ç™¼ç¾
- ğŸ¯ é é¢4ï¼šæ™ºæ…§æ±ºç­–
- ğŸ¯ ç›¸é—œæ€§åˆ†æ
- ğŸ¯ å¥åº·å»ºè­°ç³»çµ±

**Phase 5: é æ¸¬æ¨¡å‹ï¼ˆWeek 4ï¼‰**
- ğŸ¯ é é¢5ï¼šé æ¸¬æ¨¡å‹
- ğŸ¯ æ™‚é–“åºåˆ—é æ¸¬
- ğŸ¯ æƒ…å¢ƒæ¨¡æ“¬åŠŸèƒ½
- ğŸ¯ æ¨¡å‹æ€§èƒ½è©•ä¼°

**Phase 6: å„ªåŒ–èˆ‡éƒ¨ç½²ï¼ˆWeek 5ï¼‰**
- ğŸ¯ æ€§èƒ½å„ªåŒ–
- ğŸ¯ UI/UXæ”¹é€²
- ğŸ¯ æ–‡æª”å®Œå–„
- ğŸ¯ éƒ¨ç½²åˆ°é›²ç«¯

### 6.2 æ–‡ä»¶ç”¢å‡ºæ™‚ç¨‹

| ç”¢å‡ºç‰© | å®Œæˆæ™‚é–“ | å…§å®¹ |
|--------|---------|------|
| **5é PPT** | Week 1 | æ•¸æ“šä»‹ç´¹ã€ç¶­åº¦åˆ†æã€DIKWæ¶æ§‹ã€ç³»çµ±è¨­è¨ˆã€æˆæœå±•ç¤º |
| **Streamlit Demo** | Week 3 | Data & Informationå±¤å®Œæ•´åŠŸèƒ½ |
| **å®Œæ•´ç³»çµ±** | Week 5 | å…¨éƒ¨5å€‹é é¢ï¼Œæ‰€æœ‰DIKWå±¤ç´šå¯¦ç¾ |
| **æŠ€è¡“æ–‡æª”** | Week 5 | ç³»çµ±èªªæ˜ã€APIæ–‡æª”ã€éƒ¨ç½²æŒ‡å— |

### 6.3 æŠ€è¡“æ£§

**å¾Œç«¯æŠ€è¡“ï¼š**
- Python 3.12+
- Pandas 2.3+
- DuckDB 1.4+
- PyArrow 21+
- NumPy

**å‰ç«¯æŠ€è¡“ï¼š**
- Streamlit 1.28+
- Plotly Express
- streamlit-navigation-bar

**æ•¸æ“šç§‘å­¸ï¼š**
- Scikit-learn
- Prophet (æ™‚é–“åºåˆ—ï¼Œå¯é¸)

**éƒ¨ç½²ï¼š**
- Streamlit Cloud
- Docker (å¯é¸)

---

## ç¸½çµ

æœ¬è¦åŠƒæ–‡æª”å®Œæ•´å®šç¾©äº†ï¼š

1. âœ… **æ•¸æ“šçµæ§‹** - 5.88Mç­†è¨˜éŒ„ï¼Œ25å€‹æ¬„ä½ï¼Œ8å¹´æ­·å²æ•¸æ“š
2. âœ… **ç¶­åº¦åˆ†æ** - SPCTå››ç¶­æ¨¡å‹ï¼ˆç©ºé–“ã€æ±¡æŸ“ç‰©ã€æ¢ä»¶ã€æ™‚é–“ï¼‰
3. âœ… **DIKWæ¶æ§‹** - å¾æ•¸æ“šåˆ°æ™ºæ…§çš„å››å±¤è½‰åŒ–è·¯å¾‘
4. âœ… **ç³»çµ±è¨­è¨ˆ** - Streamlitä¸‰å±¤æ¶æ§‹ï¼Œ5å€‹ä¸»è¦é é¢
5. âœ… **æŠ€è¡“ç´°ç¯€** - å®Œæ•´çš„ä»£ç¢¼ç¯„ä¾‹å’Œå¯¦ç¾æ–¹æ¡ˆ
6. âœ… **é–‹ç™¼è¨ˆç•«** - 5é€±é–‹ç™¼è·¯ç·šåœ–

**ä¸‹ä¸€æ­¥è¡Œå‹•ï¼š**
1. æ ¹æ“šæ­¤è¦åŠƒå»ºç«‹Streamlitæ‡‰ç”¨ä¸»ç¨‹å¼
2. é€æ­¥å¯¦ç¾å„å€‹é é¢åŠŸèƒ½
3. æº–å‚™5é PPTç°¡å ±
4. æ¸¬è©¦èˆ‡å„ªåŒ–ç³»çµ±æ€§èƒ½

---

**æ–‡æª”ç‰ˆæœ¬ï¼š** 1.0
**æœ€å¾Œæ›´æ–°ï¼š** 2025-10-13
**ç¶­è­·è€…ï¼š** Claude Code
**ç‹€æ…‹ï¼š** âœ… è¦åŠƒå®Œæˆï¼Œæº–å‚™é€²å…¥é–‹ç™¼éšæ®µ
